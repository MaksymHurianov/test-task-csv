(this["webpackJsonptest-task-csv"]=this["webpackJsonptest-task-csv"]||[]).push([[0],{15:function(e,n,t){},16:function(e,n,t){},22:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),i=t(9),o=t.n(i),s=(t(15),t(2)),c=t(6),d=t(3),l=(t(16),t(10)),h=t.n(l),u=t(8),b=t(0);var j=function(e){var n=e.headerNames;return Object(b.jsx)("thead",{className:"header",children:Object(b.jsx)("tr",{children:n.map((function(e,n){return Object(b.jsx)("td",{children:e},n)}))})})};var O=function(e){var n=e.rows,t=e.headerNames,a=e.phonesArr,r=e.emailsArr;return Object(b.jsx)("tbody",{children:n.map((function(e,n,i){for(var o=[],d={},l=0;l<a.length;++l)if(e.Phone===a[l]&&e.id!==l&&""!==e.Phone){e["Duplicate with"]=l;break}for(var h=0;h<r.length;++h)if(e.Email.toLowerCase()===r[h].toLowerCase()&&e.id!==h&&""!==e.Email){e["Duplicate with"]=h;break}for(var u=0;u<t.length;++u){var j=(e.Age<21||!+e.Age)&&"Age"===t[u]?{backgroundColor:"red"}:void 0,O=(+e.Experience<=0||e.Age-e.Experience<0)&&"Experience"===t[u]?{backgroundColor:"red"}:void 0;d=e.Phone?12===e.Phone.length&&"+1"===e.Phone.slice(0,2)||"Phone"!==t[u]?void 0:{backgroundColor:"red"}:"Phone"===t[u]?{backgroundColor:"red"}:void 0;var m=(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(e["Expiration date"])||/(0[1-9]|1[012])[ /](0[1-9]|[12][0-9]|3[01])[ /](19|20)\d\d/.test(e["Expiration date"]))&&Date.parse(e["Expiration date"])>Date.now()||"Expiration date"!==t[u]?void 0:{backgroundColor:"red"},f=/^[a-zA-Z\d]{5}$/.test(e["License number"])||"License number"!==t[u]?void 0:{backgroundColor:"red"},p=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.Email)||"Email"!==t[u]?void 0:{backgroundColor:"red"},x="TRUE"!==e["Has children"]&&"FALSE"!==e["Has children"]&&"Has children"===t[u]?{backgroundColor:"red"}:void 0,v=+e["Yearly Income"]&&+e["Yearly Income"]<1e6||"Yearly Income"!==t[u]?void 0:{backgroundColor:"red"},g=e["License states"].indexOf("not valid")>=0&&"License states"===t[u]?{backgroundColor:"red"}:void 0,k=Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)({},j),O),d),m),f),p),x),v),g);o=[].concat(Object(c.a)(o),[Object(b.jsx)("td",{style:k,children:i[n][t[u]]},u)])}return Object(b.jsx)("tr",{children:o},n)}))})};var m=function(){return Object(b.jsx)("div",{style:{backgroundColor:"#f65337",border:"1px solid black",width:"500px",margin:"auto",marginTop:"150px"},children:Object(b.jsx)("p",{style:{textAlign:"center",fontSize:"20px",padding:"20px"},children:"File format is not correct"})})};var f=function(){var e=Object(a.useState)([]),n=Object(d.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)([]),o=Object(d.a)(i,2),l=o[0],f=o[1],p=Object(a.useState)(!0),x=Object(d.a)(p,2),v=x[0],g=x[1],k=Object(a.useState)([]),A=Object(d.a)(k,2),w=A[0],C=A[1],L=Object(a.useState)([]),y=Object(d.a)(L,2),E=y[0],P=y[1],I=[],N={alabama:"AL",alaska:"AK",arizona:"AZ",arkansas:"AR",california:"CA",colorado:"CO",connecticut:"CT",delaware:"DE",florida:"FL",georgia:"GA",hawaii:"HI",idaho:"ID",illinois:"IL",indiana:"IN",iowa:"IA",kansas:"KS",kentucky:"KY",louisiana:"LA",maine:"ME",maryland:"MD",massachusetts:"MA",michigan:"MI",minnesota:"MN",mississippi:"MS",missouri:"MO",montana:"MT",nebraska:"NE",nevada:"NV","new hampshire":"NH","new jersey":"NJ","new mexico":"NM","new york":"NY","north carolina":"NC","north dakota":"ND",ohio:"OH",oklahoma:"OK",oregon:"OR",pennsylvania:"PA","rhode island":"RI","south carolina":"SC","south dakota":"SD",tennessee:"TN",texas:"TX",utah:"UT",vermont:"VT",virginia:"VA",washington:"WA","west virginia":"WV",wisconsin:"WI",wyoming:"WY"},H=Object.keys(N);for(var S in N)I.push(N[S]);return Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)(h.a,{fileTypes:".csv",handleFiles:function(e){if("csv"===e[0].name.slice(-3)){g(!0);var n=new FileReader;n.onloadend=function(e){if(n.result){var t=Object.keys(Object(u.parse)(n.result,{header:!0,transformHeader:function(e){return e.trim()}}).data[0]),a=Object(u.parse)(n.result,{skipEmptyLines:!0,header:!0,transformHeader:function(e){return e.trim()},transform:function(e){return e.trim()}}).data;if(-1===t.indexOf("Full Name")||-1===t.indexOf("Email")||-1===t.indexOf("Phone"))return void g(!1);var i=["id"].concat(Object(c.a)(t),["Duplicate with"]);var o=a.map((function(e,n){return function(e){-1!==t.indexOf("Phone")&&("1"===e.Phone.slice(0,1)&&11===e.Phone.length?e.Phone="+".concat(e.Phone):10===e.Phone.length&&(e.Phone="+1".concat(e.Phone)))}(e),function(e){-1!==t.indexOf("Has children")&&(""===e["Has children"]?e["Has children"]="FALSE":"FALSE"!==e["Has children"].toUpperCase()&&"TRUE"!==e["Has children"].toUpperCase()||(e["Has children"]=e["Has children"].toUpperCase()))}(e),function(e){-1!==t.indexOf("Yearly Income")&&""!==e["Yearly Income"]&&e["Yearly Income"]<1e6&&(e["Yearly Income"]=(+e["Yearly Income"]).toFixed(2))}(e),function(e){var n=[];if(-1!==t.indexOf("License states"))if(-1!==e["License states"].indexOf("|")){for(var a=e["License states"].split("|"),r=0;r<a.length;++r)if(-1!==I.indexOf(a[r].trim()))n.push(a[r].trim());else{var i=a[r].trim().toLowerCase();n.push(-1!==H.indexOf(i)?N[i]:"not valid")}e["License states"]=n.join(" | ")}else-1!==I.indexOf(e["License states"])||(e["License states"]=-1!==H.indexOf(e["License states"].toLowerCase())?N[H[H.indexOf(e["License states"].toLowerCase())]]:"not valid")}(e),Object(s.a)(Object(s.a)({id:n},e),{},{"Duplicate with":""})}));C(a.map((function(e){return e.Phone}))),P(a.map((function(e){return e.Email}))),r(i),f(o)}else r([]),f([])},n.readAsText(e[0])}else g(!1)},children:Object(b.jsx)("button",{className:"btn",children:"Import users"})}),v?Object(b.jsxs)("table",{children:[Object(b.jsx)(j,{headerNames:t}),Object(b.jsx)(O,{rows:l,headerNames:t,phonesArr:w,emailsArr:E})]}):Object(b.jsx)(m,{})]})},p=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,23)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,o=n.getTTFB;t(e),a(e),r(e),i(e),o(e)}))};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root")),p()}},[[22,1,2]]]);
//# sourceMappingURL=main.989eeac6.chunk.js.map